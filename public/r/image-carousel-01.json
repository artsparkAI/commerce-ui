{
  "name": "image-carousel-01",
  "type": "registry:component",
  "dependencies": [
    "lucide-react",
    "@radix-ui/react-radio-group"
  ],
  "files": [
    {
      "type": "registry:component",
      "content": "\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { type EmblaOptionsType } from \"embla-carousel\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\nconst PLACEHOLDER_IMAGES = [\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n  \"https://placehold.co/600x400\",\n];\n\ntype ThumbPropType = {\n  selected: boolean;\n  index: number;\n  onClick: () => void;\n  imgUrl: string;\n};\n\nconst Thumb: React.FC<ThumbPropType> = (props) => {\n  const { selected, index, onClick, imgUrl } = props;\n\n  return (\n    <div\n      className={cn(\n        \"min-w-0 flex-[0_0_22%] pl-3 sm:flex-[0_0_15%]\",\n        selected ? \"opacity-100\" : \"opacity-50\"\n      )}\n    >\n      <button\n        onClick={onClick}\n        className=\"relative h-12 w-12 cursor-pointer touch-manipulation appearance-none overflow-hidden rounded-md border-0 bg-transparent p-0\"\n        type=\"button\"\n      >\n        <img\n          src={imgUrl}\n          alt={`Thumbnail ${index + 1}`}\n          className=\"h-full w-full object-cover\"\n        />\n      </button>\n    </div>\n  );\n};\n\ninterface ImageCarousel_01Props extends React.HTMLAttributes<HTMLDivElement> {\n  images: string[];\n  opts?: EmblaOptionsType;\n  showControls?: boolean;\n}\n\nconst ImageCarousel_01: React.FC<ImageCarousel_01Props> = ({\n  images = PLACEHOLDER_IMAGES,\n  opts,\n  showControls = true,\n  className,\n  ...props\n}) => {\n  const [emblaRef, emblaApi] = useEmblaCarousel({\n    ...opts,\n    axis: \"x\",\n  });\n\n  const [emblaThumbsRef, emblaThumbsApi] = useEmblaCarousel({\n    containScroll: \"keepSnaps\",\n    dragFree: true,\n    axis: \"x\",\n  });\n\n  const onThumbClick = useCallback(\n    (index: number) => {\n      if (!emblaApi || !emblaThumbsApi) return;\n      emblaApi.scrollTo(index);\n      emblaThumbsApi.scrollTo(index);\n    },\n    [emblaApi, emblaThumbsApi]\n  );\n\n  const [canScrollPrev, setCanScrollPrev] = useState(false);\n  const [canScrollNext, setCanScrollNext] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  const scrollPrev = useCallback(() => {\n    if (emblaApi) emblaApi.scrollPrev();\n  }, [emblaApi]);\n\n  const scrollNext = useCallback(() => {\n    if (emblaApi) emblaApi.scrollNext();\n  }, [emblaApi]);\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault();\n        scrollPrev();\n      } else if (event.key === \"ArrowRight\") {\n        event.preventDefault();\n        scrollNext();\n      }\n    },\n    [scrollPrev, scrollNext]\n  );\n\n  const onSelect = useCallback(() => {\n    if (!emblaApi || !emblaThumbsApi) return;\n    setSelectedIndex(emblaApi.selectedScrollSnap());\n    emblaThumbsApi.scrollTo(emblaApi.selectedScrollSnap());\n    setCanScrollPrev(emblaApi.canScrollPrev());\n    setCanScrollNext(emblaApi.canScrollNext());\n  }, [emblaApi, emblaThumbsApi]);\n\n  useEffect(() => {\n    if (!emblaApi || !emblaThumbsApi) return;\n\n    onSelect();\n    emblaApi.on(\"reInit\", onSelect);\n    emblaApi.on(\"select\", onSelect);\n\n    return () => {\n      emblaApi.off(\"reInit\", onSelect);\n      emblaApi.off(\"select\", onSelect);\n    };\n  }, [emblaApi, emblaThumbsApi, onSelect]);\n\n  return (\n    <div\n      className={cn(\"relative w-full max-w-xs\", className)}\n      role=\"region\"\n      aria-roledescription=\"carousel\"\n      onKeyDownCapture={handleKeyDown}\n      {...props}\n    >\n      <div ref={emblaRef} className=\"overflow-hidden\">\n        <div className=\"-ml-4 flex\">\n          {images?.map((image, index) => (\n            <div\n              key={index}\n              className=\"min-w-0 shrink-0 grow-0 basis-full pl-4\"\n              role=\"group\"\n              aria-roledescription=\"slide\"\n            >\n              <img\n                src={image}\n                alt={`Slide ${index + 1}`}\n                className=\"h-fit w-fit object-cover\"\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {showControls && (\n        <>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"absolute -left-12 top-1/2 h-8 w-8 -translate-y-1/2 rounded-full\"\n            disabled={!canScrollPrev}\n            onClick={scrollPrev}\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Previous slide</span>\n          </Button>\n\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"absolute -right-12 top-1/2 h-8 w-8 -translate-y-1/2 rounded-full\"\n            disabled={!canScrollNext}\n            onClick={scrollNext}\n          >\n            <ArrowRight className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Next slide</span>\n          </Button>\n        </>\n      )}\n\n      <div className=\"mt-3\">\n        <div className=\"overflow-hidden\" ref={emblaThumbsRef}>\n          <div className=\"-ml-3 flex gap-2\">\n            {images?.map((image, index) => (\n              <Thumb\n                key={index}\n                onClick={() => onThumbClick(index)}\n                selected={index === selectedIndex}\n                index={index}\n                imgUrl={image}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageCarousel_01;\n",
      "path": "/components/commerce-ui/image-carousel/image-carousel-01.tsx",
      "target": "/components/commerce-ui/image-carousel-01.tsx"
    }
  ]
}